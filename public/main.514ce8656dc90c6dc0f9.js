(()=>{"use strict";var e,t,n,r={6443:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(8081),a=n.n(r),s=n(3645),o=n.n(s)()(a());o.push([e.id,".fc-theme-standard .fc-scrollgrid{border:1px solid #fff !important}.fc-theme-standard td{border:2px solid #fff}.fc-theme-standard th{border:2px solid #fff}::-webkit-scrollbar{width:0;background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background:red}.bg-red{background:rgba(255,0,0,.1254901961)}.bg-yellow{background:rgba(255,255,0,.1254901961)}.fc-event{pointer-events:none}",""]);const i=o},897:(e,t,n)=>{var r=n(5893),a=n(745),s=n(6485),o=n(9897),i=n(3907),l=n(9602),c=n(1508),d=n(5974),u=n(6720),p=n(3720),g=n(4386),m=n(6447),h=n(2658),f=n(7294),v=n(655);const b=(0,n(9617).a)({palette:{background:{default:"#f0f0f0"},primary:{main:"#3C4B62"}}}),j=e=>(0,v.a)(void 0,void 0,void 0,(function*(){const t=yield fetch(e);if(!t.ok)return[];return(yield t.text()).split("\r\n").map((e=>e.split(";")))}));var x=n(2329);const y=({children:e})=>{var t,n;const a=(0,f.useRef)(null),[s,o]=(0,f.useState)(null!==(n=null===(t=a.current)||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:0),i=a.current?a.current.scrollHeight-a.current.offsetHeight:0,[l,c]=(0,f.useState)(!0),[d,u]=(0,f.useState)(!1);(0,x.b)({from:{y:d?i:s},to:{y:d?s:i},config:{duration:80*(i-s)<2e3?2e3:80*(i-s)},reset:!l,pause:l,onChange:({value:e})=>{var t;null===(t=a.current)||void 0===t||t.scrollTo({top:e.y})},onRest:()=>{o(0),u(!d)}});const p=(0,f.useCallback)((()=>{c(!0),u(!1)}),[]);return(0,f.useLayoutEffect)((()=>{if(!l)return()=>{};const e=setTimeout((()=>{var e,t;c(!1);const n=null!==(t=null===(e=a.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0;o(n===i?0:n),u(n===i)}),5e3);return()=>clearTimeout(e)}),[i,l]),(0,r.jsx)(m.a,Object.assign({paddingTop:8,p:2,width:"30vw",height:"100%",overflow:"auto",onWheel:p,onTouchStart:p,onClick:p,ref:a},{children:e}))},O=n.p+"static/images/icon.png";var w=n(5295),C=n(5537),k=n(5405),S=n(6867),D=n(4962);const I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:1,borderRadius:2},T=({currentEvent:e,close:t,shortDate:n})=>{const a=Boolean(e);return(0,r.jsx)(k.a,Object.assign({open:a,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},{children:(0,r.jsxs)(c.a,Object.assign({sx:I},{children:[(0,r.jsx)(m.a,Object.assign({direction:"row",justifyContent:"flex-end",overflow:"auto"},{children:(0,r.jsx)(S.a,Object.assign({onClick:t},{children:(0,r.jsx)(C.a,{})}))})),(0,r.jsxs)(c.a,Object.assign({pb:2,px:2,maxHeight:"80vh",overflow:"auto"},{children:[(0,r.jsxs)(m.a,Object.assign({direction:"row",justifyContent:"space-between",alignItems:"center",px:2},{children:[(0,r.jsxs)(m.a,{children:[(0,r.jsx)(h.a,Object.assign({id:"modal-modal-title",variant:"h4",component:"h2"},{children:null==e?void 0:e.title})),(0,r.jsx)(h.a,Object.assign({id:"modal-modal-title",variant:"h5",component:"h2"},{children:n}))]}),(0,r.jsx)(D.a,{component:"img",image:null==e?void 0:e.image,alt:"",sx:{width:"200px",borderRadius:2}})]})),(0,r.jsx)(h.a,Object.assign({id:"modal-modal-description",sx:{mt:2,px:2}},{children:null==e?void 0:e.description.split("<br>").map((e=>(0,r.jsx)("p",{children:e})))}))]}))]}))}))},M=({items:e,shortDate:t})=>{const[n,a]=(0,f.useState)(null),s=(0,f.useCallback)((()=>a(null)),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{currentEvent:n,close:s,shortDate:t}),(0,r.jsx)(m.a,Object.assign({spacing:2,paddingBottom:3,borderBottom:"2px solid #888"},{children:e.map((e=>(0,r.jsx)(w.a,Object.assign({variant:"elevation",onClick:()=>a(e),sx:{backgroundColor:e.color+"88"}},{children:(0,r.jsxs)(c.a,Object.assign({m:3,my:2},{children:[(0,r.jsx)("h2",{children:e.title}),(0,r.jsx)("div",{children:e.category})]}))}))))}))]})};var _=n(4680);const E=({items:e})=>(0,r.jsxs)(m.a,Object.assign({spacing:2},{children:[(0,r.jsx)("h2",{children:"Именины в этот день"}),e.map((e=>(0,r.jsx)(_.a,Object.assign({sx:{backgroundColor:"#fff8"}},{children:(0,r.jsx)(m.a,Object.assign({alignItems:"center"},{children:(0,r.jsx)("h3",{children:e})}))}))))]}));var $=n(8909),P=n(4347);const N=({items:e,value:t,setValue:n})=>(0,r.jsx)($.a,Object.assign({labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,label:"Age",onChange:({target:e})=>{n(Number(e.value))}},{children:e.map(((e,t)=>(0,r.jsx)(P.a,Object.assign({value:t},{children:e.name}))))})),B=()=>{const[e,t]=(0,f.useState)(Date.now());return(0,f.useEffect)((()=>{const e=setInterval((()=>{t(Date.now())}),1e3);return()=>{clearInterval(e)}}),[]),(0,r.jsx)(c.a,Object.assign({color:"#ccc"},{children:new Date(e).toLocaleDateString("ru",{day:"numeric",month:"long",year:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric"}).replace(" в"," ")}))};var L=n(3379),H=n.n(L),R=n(7795),A=n.n(R),z=n(569),V=n.n(z),W=n(3565),F=n.n(W),G=n(9216),X=n.n(G),q=n(4589),J=n.n(q),K=n(6443),Q={};Q.styleTagTransform=J(),Q.setAttributes=F(),Q.insert=V().bind(null,"head"),Q.domAPI=A(),Q.insertStyleElement=X();H()(K.a,Q);K.a&&K.a.locals&&K.a.locals;const U=(e,t)=>Math.abs(e-t)<18e6,Y=(0,l.a)(c.a)((({theme:e})=>({"& button":{backgroundColor:`${e.palette.primary.main} !important`,borderColor:`${e.palette.primary.dark} !important`}}))),Z=document.getElementById("root");(0,a.a)(Z).render((0,r.jsx)((()=>{const e=(0,f.useRef)(null),[t,n]=(0,f.useState)(null),{currentHolydays:a,currentNames:l,events:c,weekends:x,categories:w,currentCategory:C,setCurrentCategory:k}=(e=>{const[t,n]=(0,f.useState)([]),[r,a]=(0,f.useState)([]),[s,o]=(0,f.useState)([]),[i,l]=(0,f.useState)([]),[c,d]=(0,f.useState)([]),[u,p]=(0,f.useState)(0),g=(0,f.useMemo)((()=>t.length&&s.length?t.map((e=>{var t,n,r;const a=s.find((({name:t})=>t===e.category)),[o,i,l]=e.date.split("."),c=`${l}-${i}-${o}`;return Object.assign(Object.assign({},e),{type:null!==(t=null==a?void 0:a.id)&&void 0!==t?t:"",color:null!==(n=null==a?void 0:a.color)&&void 0!==n?n:"#ffffff",gif:null!==(r=null==a?void 0:a.gif)&&void 0!==r?r:"",date:c})})).filter((e=>{var t;return null===(t=c[u])||void 0===t?void 0:t.typeIds.includes(e.type)})):[]),[t,s,u,c]),m=(0,f.useMemo)((()=>{const e={};return g.forEach((t=>{e[t.date]||(e[t.date]=[]),t.gif.length&&-1===e[t.date].findIndex((({gif:e})=>e===t.gif))&&e[t.date].push(t)})),Object.entries(e).map((([e,t])=>({date:e,items:t.sort(((e,t)=>Number(t.type)-Number(e.type))).slice(0,3)})))}),[g]);(0,f.useEffect)((()=>{(0,v.a)(void 0,void 0,void 0,(function*(){n((yield j("./holyday.csv")).map((([e,t,n,r,a])=>({date:e,category:t,title:n,description:r,image:a})))),a((yield j("./names.csv")).map((([e,t])=>{const[n,r,a]=e.split(".");return{date:`${a}-${r}-${n}`,names:t}}))),o((yield j("./types.csv")).map((([e,t,n,r])=>({id:e,name:t,gif:n,color:r})))),l((yield j("./weekends.csv")).map((([e])=>{const[t,n,r]=e.split(".");return Date.parse(`${r}-${n}-${t}`)}))),d((yield j("./category.csv")).map((([e,t,n,r])=>{var a;return{id:e,name:t,typeIds:null!==(a=null==n?void 0:n.split(","))&&void 0!==a?a:[],video:r}})))}))}),[]);const h=(0,f.useMemo)((()=>e||null),[e]);return{currentHolydays:(0,f.useMemo)((()=>g.filter((e=>e.date===h))),[h,g]),currentNames:(0,f.useMemo)((()=>{const e=r.find((({date:e})=>e===h));return e?e.names.split(", "):[]}),[h,r]),types:s,weekends:i,categories:c,holydays:g,events:m,currentCategory:u,setCurrentCategory:p}})(t),S=(0,f.useMemo)((()=>t?new Date(Date.parse(t)).toLocaleDateString("ru",{day:"numeric",month:"long"}):null),[t]),D=e=>{n(e)};return(0,f.useLayoutEffect)((()=>{var t;const n=null===(t=e.current)||void 0===t?void 0:t.getApi();if(n){Date.now()<Date.parse("2024-01-01")&&(n.gotoDate("2024-01-01"),D("2024-01-01"))}}),[]),(0,r.jsxs)(d.a,Object.assign({theme:b},{children:[(0,r.jsx)(u.a,{}),(0,r.jsx)(p.a,Object.assign({position:"static"},{children:(0,r.jsx)(g.a,{children:(0,r.jsxs)(m.a,Object.assign({direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},{children:[(0,r.jsxs)(m.a,Object.assign({direction:"row",alignItems:"center"},{children:[(0,r.jsx)("img",{src:O,alt:"",height:"44px"}),(0,r.jsx)(h.a,Object.assign({variant:"h4",component:"div",sx:{paddingLeft:4,fontSize:"28px"}},{children:"Календарь"})),(0,r.jsx)(h.a,Object.assign({variant:"h4",component:"div",sx:{paddingLeft:1,fontSize:"28px",fontWeight:"600"}},{children:"2024"}))]})),(0,r.jsx)(B,{})]}))})})),(0,r.jsx)(m.a,Object.assign({position:"fixed",height:"100vh",width:"100vw",zIndex:-1,alignItems:"center",justifyContent:"center"},{children:void 0!==w[C]?(0,r.jsx)("video",Object.assign({height:"100%",autoPlay:!0,muted:!0,loop:!0},{children:(0,r.jsx)("source",{src:w[C].video,type:"video/mp4"})}),C):null})),(0,r.jsxs)(m.a,Object.assign({direction:"row",justifyContent:"center",paddingTop:2,height:"calc(100vh - 64px)",sx:{backgroundColor:"#f0f0f0dd"}},{children:[(0,r.jsx)(Y,Object.assign({width:"60vw"},{children:(0,r.jsx)(i.a,{ref:e,plugins:[s.a,o.a],initialView:"dayGridMonth",locale:"ru",dateClick:e=>D(e.dateStr),buttonText:{today:"Сегодня"},events:c.map((({date:e,items:t})=>({images:t.map((({gif:e})=>e)),date:e}))),eventBackgroundColor:"transparent",eventBorderColor:"transparent",eventContent:e=>e.event.extendedProps.images.map((e=>(0,r.jsx)("img",{src:e,alt:"",width:"30%"}))),dayCellClassNames:({date:e})=>(e=>{const n=Date.parse(null!=t?t:"");return U(Number(e),n)?"bg-yellow":x.some((t=>U(t,Number(e))))?"bg-red":""})(e),firstDay:1})})),(0,r.jsxs)(m.a,{children:[(0,r.jsxs)(m.a,Object.assign({paddingX:2},{children:[(0,r.jsx)(N,{items:w,value:C,setValue:k}),(0,r.jsxs)("h2",{children:["Праздники ",S]})]})),(0,r.jsxs)(y,{children:[(0,r.jsx)(M,{items:a,shortDate:S}),(0,r.jsx)(E,{items:l})]},t)]})]}))]}))}),{}))}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return r[e](n,n.exports,s),n.exports}s.m=r,e=[],s.O=(t,n,r,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,a]=e[d],i=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,s.d(a,o),a},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={0:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,i,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var d=l(s)}for(t&&t(n);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},n=self.webpackChunkit_verse=self.webpackChunkit_verse||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0;var o=s.O(void 0,[1],(()=>s(897)));o=s.O(o)})();